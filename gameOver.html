<html>
<script src="https://www.gstatic.com/firebasejs/4.3.1/firebase.js"></script>
<h1> Game Over!</h1>
<p>
  <ol id="highscores">

  </ol>
</p>



<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyCA6Skvl_GCuFi_7x1gnkUd4GZAltnBIwo",
    authDomain: "kj-hackthenorth.firebaseapp.com",
    databaseURL: "https://kj-hackthenorth.firebaseio.com",
    projectId: "kj-hackthenorth",
    storageBucket: "kj-hackthenorth.appspot.com",
    messagingSenderId: "292024454192"
  };
  firebase.initializeApp(config);

  var database = firebase.database();
  var ref = database.ref('scores');
  ref.on('value', gotData, errData);

  function gotData(data) {
    //console.log(data.val());
    var scores = data.val();
    console.log(scores);
    var keys = Object.keys(scores);
    console.log(keys);
    for(var i = 0; i < keys.length; i++) {
      var k = keys[i];
      //console.log(k);
      var user = scores[k].name;
      var userscore = scores[k].score;
      console.log(user, userscore);

      var li = document.createElement('li', user + ": " + userscore);
      document.getElementById('highscores').value = li;
    }
  }

  function errData(err) {
    console.log('Error!');
    console.log(err);
  }


</script>
</html>
